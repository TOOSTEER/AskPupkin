{% extends 'base.html' %}

{% block title %}{{ question.title }}{% endblock %}

{% block content %}
<div class="question-detail">
    <h1>{{ question.title }}</h1>
    <div class="question-content">
        <p>{{ question.content }}</p>
        <div class="question-meta">
            <span>Автор: {{ question.author.username }}</span>
            <span>{{ question.created_date|date:"M d, Y" }}</span>
            {% for tag in question.tags.all %}
            <a href="{% url 'tag' tag.name %}" class="tag">{{ tag.name }}</a>
            {% endfor %}
        </div>
    </div>
</div>

<div class="answers">
    <h2>{{ question.answers.count }} Ответов</h2>

    {% for answer in page_obj %}
    <div class="answer-item">
        <div class="answer-rating">{{ answer.rating }}</div>
        <div class="answer-content">
            <p>{{ answer.content }}</p>
            <div class="answer-meta">
                <span>Автор: {{ answer.author.username }}</span>
                <span>{{ answer.created_date|date:"M d, Y" }}</span>
                {% if answer.is_correct %}
                <span class="correct-answer">✓ Правильный ответ</span>
                {% endif %}
            </div>
        </div>
    </div>
    {% endfor %}
</div>

{% include 'pagination.html' %}

<div class="your-answer">
    <h2>Ваш ответ</h2>
    <form>
        <textarea placeholder="Введите ваш ответ здесь..."></textarea>
        <button type="submit">Опубликовать ответ</button>
    </form>
</div>
{% endblock %}